{"object":{"name":"swoole_lock"},"comment":"锁的实现。PHP代码中可以很方便地创建一个锁，用来实现数据同步。swoole_lock类支持5种锁的类型：","namespace":"","consts":{"FILELOCK":{"comment":"文件锁","type":"int","value":2},"MUTEX":{"comment":"互斥锁","type":"int","value":3},"SEM":{"comment":"信号量","type":"int","value":4},"RWLOCK":{"comment":"读写锁","type":"int","value":1},"SPINLOCK":{"comment":"自旋锁","type":"int","value":5}},"properties":[],"methods":{"__construct":{"access":"public","comment":"创建锁","isStatic":false,"return":"","example":"","parameters":{"type":{"comment":"锁的类型(使用常量)","type":"int","options":[]},"filename":{"comment":"当类型为SWOOLE_FILELOCK时必须传入，指定文件锁的路径","type":"string","options":[]}}},"__destruct":{"access":"public","comment":"析构方法","isStatic":false,"return":"","example":"","parameters":[]},"lock":{"access":"public","comment":"加锁操作","isStatic":false,"return":"","example":"","parameters":[]},"lockwait":{"access":"public","comment":"加锁操作，作用于swoole_lock->lock一致，但lockwait可以设置超时时间","isStatic":false,"return":"","example":"","parameters":{"timeout":{"comment":"超时时间","type":"float","options":[]}}},"trylock":{"access":"public","comment":"非阻塞的加锁操作","isStatic":false,"return":"","example":"","parameters":[]},"lock_read":{"access":"public","comment":"锁定读","isStatic":false,"return":"","example":"","parameters":[]},"trylock_read":{"access":"public","comment":"非阻塞式锁定读","isStatic":false,"return":"","example":"","parameters":[]},"unlock":{"access":"public","comment":"释放锁操作","isStatic":false,"return":"","example":"","parameters":[]}}}