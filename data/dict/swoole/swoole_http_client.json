{"object":{"name":"swoole_http_client"},"comment":"HTTP异步客户端","namespace":"","consts":[],"properties":{"type":{"access":"public","type":"int","comment":"socket类型","isStatic":false,"value":0},"errCode":{"access":"public","type":"int","comment":"错误码","isStatic":false,"value":0},"sock":{"access":"public","type":"int","comment":"socket的文件描述符","isStatic":false,"value":0},"statusCode":{"access":"public","type":"int","comment":"状态码","isStatic":false,"value":0},"host":{"access":"public","type":"string","comment":"请求的服务器地址","isStatic":false},"port":{"access":"public","type":"int","comment":"请求的服务器端口","isStatic":false,"value":0},"requestMethod":{"access":"public","type":"string","comment":"请求方式","isStatic":false},"requestHeaders":{"access":"public","type":"array","comment":"请求头","isStatic":false},"requestBody":{"access":"public","type":"string","comment":"请求体","isStatic":false},"uploadFiles":{"access":"public","type":"array","comment":"上传的文件","isStatic":false},"set_cookie_headers":{"access":"public","type":"array","comment":"设置请求头中的cookie","isStatic":false},"downloadFile":{"access":"public","type":"string","comment":"下载文件","isStatic":false},"headers":{"access":"public","type":"array","comment":"请求响应头","isStatic":false},"cookies":{"access":"public","type":"array","comment":"请求响应cookie","isStatic":false},"body":{"access":"public","type":"string","comment":"请求响应后服务器端返回的内容","isStatic":false},"onConnect":{"access":"public","type":"callable","comment":"连接成功的回调函数","isStatic":false},"onError":{"access":"public","type":"callable","comment":"连接错误时的回调函数","isStatic":false},"onMessage":{"access":"public","type":"callable","comment":"当接收到消息时的回调函数(websocket)","isStatic":false},"onClose":{"access":"public","type":"callable","comment":"连接关闭时的回调函数","isStatic":false}},"methods":{"__construct":{"access":"public","comment":"客户端连接初始化","isStatic":false,"return":"","example":"","parameters":{"host":{"comment":"连接的主机IP","type":"string","options":[]},"port":{"comment":"连接的主机端口","type":"int","options":[]},"ssl":{"comment":"是否开启TLS\/SSL隧道加密，https网站必须设置为true","type":"boolean","options":[]}}},"__destruct":{"access":"public","comment":"析构函数","isStatic":false,"return":"","example":"","parameters":[]},"set":{"access":"public","comment":"设置选项","isStatic":false,"return":"","example":"","parameters":{"settings":{"comment":"配置选项","type":"array","options":[]}}},"setMethod":{"access":"public","comment":"设置请求方式","isStatic":false,"return":"","example":"","parameters":{"method":{"comment":"请求方式","type":"string","options":[]}}},"setHeaders":{"access":"public","comment":"设置请求头","isStatic":false,"return":"","example":"","parameters":{"headers":{"comment":"请求头","type":"array","options":[]}}},"setCookies":{"access":"public","comment":"设置cookie","isStatic":false,"return":"","example":"","parameters":{"cookies":{"comment":"cookie数组","type":"array","options":[]}}},"setData":{"access":"public","comment":"设置Http请求的包体","isStatic":false,"return":"","example":"","parameters":{"data":{"comment":"请求体内容","type":"string","options":[]}}},"addFile":{"access":"public","comment":"添加POST文件","isStatic":false,"return":"","example":"","parameters":{"path":{"comment":"文件的路径，必选参数，不能为空文件或者不存在的文件","type":"string","options":[]},"name":{"comment":"表单的名称，必选参数，FILES参数中的key","type":"string","options":[]},"type":{"comment":"文件的MIME格式，可选参数，底层会根据文件的扩展名自动推断","type":"string","options":[]},"filename":{"comment":"文件名称","type":"string","options":[]},"offset":{"comment":"上传文件的偏移量，可以指定从文件的中间部分开始传输数据。此特性可用于支持断点续传。","type":"int","options":[]},"length":{"comment":"发送数据的尺寸，默认为整个文件的尺寸","type":"int","options":[]}}},"execute":{"access":"public","comment":"更底层的Http请求方法，需要代码中调用setMethod和setData等接口设置请求的方法和数据","isStatic":false,"return":"","example":"","parameters":{"path":{"comment":"请求地址","type":"string","options":[]},"callback":{"comment":"回调函数","type":"callable","options":[]}}},"push":{"access":"public","comment":"向WebSocket服务器发送数据","isStatic":false,"return":"","example":"","parameters":{"data":{"comment":"要发送的数据内容，默认为UTF-8文本格式，如果为其他格式编码或二进制数据，请使用WEBSOCKET_OPCODE_BINARY","type":"string","options":[]},"opcode":{"comment":"操作类型，默认为WEBSOCKET_OPCODE_TEXT_FRAME表示发送文本","type":"int","options":[]},"finish":{"comment":"发送成功后是否结束","type":"boolean","options":[]}}},"get":{"access":"public","comment":"发起GET请求","isStatic":false,"return":"","example":"","parameters":{"path":{"comment":"请求路径","type":"string","options":[]},"callback":{"comment":"请求成功后的回调函数","type":"callable","options":[]}}},"post":{"access":"public","comment":"发送POST请求","isStatic":false,"return":"","example":"","parameters":{"path":{"comment":"请求地址","type":"string","options":[]},"data":{"comment":"求的包体数据，如果$data为数组底层自动会打包为x-www-form-urlencoded格式的POST内容，并设置Content-Type为application\/x-www-form-urlencoded","type":"mixed","options":[]},"callback":{"comment":"请求成功后的回调","type":"callable","options":[]}}},"upgrade":{"access":"public","comment":"发起WebSocket握手请求，并将连接升级为WebSocket","isStatic":false,"return":"","example":"","parameters":{"path":{"comment":"请求地址","type":"string","options":[]},"callback":{"comment":"成功或失败后回调函数","type":"callable","options":[]}}},"download":{"access":"public","comment":"通过Http下载文件","isStatic":false,"return":"","example":"","parameters":{"path":{"comment":"请求地址","type":"string","options":[]},"file":{"comment":"指定下载内容写入的文件路径，会自动写入到downloadFile属性","type":"string","options":[]},"callback":{"comment":"下载成功后的回调函数","type":"callable","options":[]},"offset":{"comment":"为0时若文件已存在，底层会自动清空此文件","type":"int","options":[]}}},"isConnected":{"access":"public","comment":"连接是否成功","isStatic":false,"return":"boolean","example":"","parameters":[]},"close":{"access":"public","comment":"关闭连接","isStatic":false,"return":"","example":"","parameters":[]},"on":{"access":"public","comment":"绑定事件","isStatic":false,"return":"","example":"","parameters":{"event_name":{"comment":"事件名称","type":"string","options":[]},"callback":{"comment":"事件对应的回调函数","type":"callable","options":[]}}}}}